const {
    GoogleGenerativeAI,
    HarmCategory,
    HarmBlockThreshold,
  } = require("@google/generative-ai");
  
  const apiKey = process.env.NEXT_PUBLIC_GEMINI_API_KEY;
  const genAI = new GoogleGenerativeAI(apiKey);
  
  const model = genAI.getGenerativeModel({
    model: "gemini-2.0-flash",
  });
  
  const generationConfig = {
    temperature: 1,
    topP: 0.95,
    topK: 40,
    maxOutputTokens: 8192,
    responseMimeType: "application/json",
  };
  
 
    export const GenerateCourseLayout_AI = model.startChat({
      generationConfig,
      history: [
        {
          role: "user",
          parts: [
            {text: "Generate a course tutorial on following detail with field as  Course Name, Description, Along with chapter name, About, Duration: Category:'Programming', Topic :'Python', Level:'Basic', Duration:1 hour, NoOfChapters: 5, in JSON format"},
          ],
        },
        {
          role: "model",
          parts: [
            {text: "```json\n{\n  \"CourseName\": \"Python for Beginners\",\n  \"Description\": \"A gentle introduction to Python programming, covering fundamental concepts and practical applications. Learn the basics of syntax, data structures, and control flow to start your Python journey.\",\n  \"Category\": \"Programming\",\n  \"Topic\": \"Python\",\n  \"Level\": \"Basic\",\n  \"Duration\": \"1 hour\",\n  \"NoOfChapters\": 5,\n  \"Chapters\": [\n    {\n      \"ChapterName\": \"Chapter 1: Introduction to Python\",\n      \"About\": \"Welcome to Python! This chapter will cover what Python is, why it's popular, and how to install and set up your development environment.\",\n      \"Duration\": \"10 minutes\",\n      \"Topics\": [\n        \"What is Python?\",\n        \"Why learn Python?\",\n        \"Installation and Setup (Python, IDE)\",\n        \"Running your first Python program (Hello, World!)\"\n      ]\n    },\n    {\n      \"ChapterName\": \"Chapter 2: Variables and Data Types\",\n      \"About\": \"Learn about variables, how to assign values to them, and the different data types Python supports, such as integers, floats, strings, and booleans.\",\n      \"Duration\": \"15 minutes\",\n      \"Topics\": [\n        \"Variables: Declaring and Assigning\",\n        \"Data Types: Integers, Floats, Strings, Booleans\",\n        \"Type Conversion\",\n        \"Basic Input and Output\"\n      ]\n    },\n    {\n      \"ChapterName\": \"Chapter 3: Operators and Expressions\",\n      \"About\": \"This chapter explains different types of operators in Python, including arithmetic, comparison, logical, and assignment operators, and how to use them to create expressions.\",\n      \"Duration\": \"15 minutes\",\n      \"Topics\": [\n        \"Arithmetic Operators (+, -, *, /, %, **)\",\n        \"Comparison Operators (==, !=, >, <, >=, <=)\",\n        \"Logical Operators (and, or, not)\",\n        \"Assignment Operators (=, +=, -=, etc.)\",\n        \"Operator Precedence\"\n      ]\n    },\n    {\n      \"ChapterName\": \"Chapter 4: Control Flow (Conditional Statements)\",\n      \"About\": \"Explore conditional statements (if, elif, else) to control the flow of your program based on different conditions.\",\n      \"Duration\": \"10 minutes\",\n      \"Topics\": [\n        \"if statement\",\n        \"if-else statement\",\n        \"if-elif-else statement\",\n        \"Nested if statements\"\n      ]\n    },\n    {\n      \"ChapterName\": \"Chapter 5:  Loops (Iteration)\",\n      \"About\": \"Learn about loops (for and while) to repeat a block of code multiple times.  This is crucial for automating tasks.\",\n      \"Duration\": \"10 minutes\",\n      \"Topics\": [\n        \"for loop\",\n        \"while loop\",\n        \"break and continue statements\",\n        \"Basic example applications of loops\"\n      ]\n    }\n  ]\n}\n```"},
          ],
        },
      ],
    });
  
    // const result = await chatSession.sendMessage("INSERT_INPUT_HERE");
    // console.log(result.response.text());


    export const GenerateChapterContent_AI = model.startChat({
      generationConfig,
      history: [
        {
          role: "user",
          parts: [
            {text: "Explain the concept in Detail on Topic:Yoga, Chapter:Inversions and Relaxation, in JSON Format with list of array with field as title, description in detail, Code Example(Code field in <precode> format) if applicable"},
          ],
        },
        {
          role: "model",
          parts: [
            {text: "```json\n{\n  \"topic\": \"Yoga: Inversions and Relaxation\",\n  \"sections\": [\n    {\n      \"title\": \"Inversions: An Overview\",\n      \"description\": \"Inversions are yoga poses where the heart is positioned above the head. They range from gentle, supported variations to advanced postures requiring significant strength and balance.  Theoretically, inversions are believed to improve circulation, lymphatic drainage, and cognitive function. Physiologically, inversions change the blood flow and pressure within the body, stimulating different systems. Mentally, they can offer a new perspective, build courage, and enhance focus.  It's crucial to approach inversions with awareness, proper alignment, and under the guidance of a qualified instructor, especially if you have pre-existing health conditions such as high blood pressure, glaucoma, or neck problems.\",\n      \"code_example\": null\n    },\n    {\n      \"title\": \"Types of Inversions\",\n      \"description\": \"Inversions can be broadly categorized into: \\n\\n*   **Supported Inversions:** These poses are less demanding and use props or the floor for support. Examples include Supported Shoulder Stand (Salamba Sarvangasana) and Legs-up-the-Wall Pose (Viparita Karani).\\n*   **Partial Inversions:** These involve a partial shift of weight and aren't full inversions. Examples include Downward-Facing Dog (Adho Mukha Svanasana) and Wide-Legged Standing Forward Bend (Prasarita Padottanasana).\\n*   **Full Inversions:** These are the most challenging and require significant strength and balance. Examples include Headstand (Sirsasana), Forearm Stand (Pincha Mayurasana), and Handstand (Adho Mukha Vrksasana).\",\n      \"code_example\": null\n    },\n    {\n      \"title\": \"Benefits of Inversions (Theories & Evidence)\",\n      \"description\": \"The purported benefits of inversions include: \\n\\n*   **Improved Circulation:** Inverting the body reverses the effects of gravity, potentially improving blood flow back to the heart and brain. However, scientific evidence is mixed, and the effects may be temporary.\\n*   **Lymphatic Drainage:** It is believed that inversions can aid the lymphatic system in draining toxins and waste products from the body. Lymphatic drainage relies on muscle contraction and gravity.\\n*   **Reduced Swelling:** Inverting can help reduce swelling in the legs and feet by facilitating fluid drainage. \\n*   **Core Strength & Stability:** Many inversions require significant core engagement to maintain balance and stability.\\n*   **Stress Reduction & Mental Clarity:** The change in perspective can be mentally refreshing and reduce stress, though this is often a subjective experience.\\n*   **Hormonal Balance:** Some believe that inversions can stimulate the endocrine system, potentially influencing hormone production, but this is largely anecdotal.\",\n      \"code_example\": null\n    },\n    {\n      \"title\": \"Common Inversions: Detailed Instructions & Safety Considerations\",\n      \"description\": \"This section provides detailed instructions for common inversions and highlights safety precautions.\\n\\n*   **Downward-Facing Dog (Adho Mukha Svanasana):**\\n    *   **Instructions:** Start on hands and knees. Spread fingers wide, pressing evenly through the palms. Tuck toes and lift hips up and back, forming an inverted V-shape. Keep spine long and legs engaged.  Heels ideally reach towards the floor, but it's okay if they don't touch. \\n    *   **Safety:** Avoid if you have carpal tunnel syndrome or high blood pressure. Modify by bending knees if hamstrings are tight.\\n\\n*   **Legs-up-the-Wall Pose (Viparita Karani):**\\n    *   **Instructions:** Sit with one hip close to a wall. Gently swing legs up the wall, lying on your back. Position hips close to the wall or slightly away.  Relax arms at your sides. Can place a small cushion under hips for support.\\n    *   **Safety:** Avoid if you have glaucoma or uncontrolled high blood pressure.  Listen to your body; if you feel discomfort, gently come out of the pose.\\n\\n*   **Shoulder Stand (Salamba Sarvangasana):**\\n    *   **Instructions:** Lie on your back. Press hands into the floor and lift hips up. Bend elbows and bring hands to support your back, keeping elbows close together. Walk hands up your back towards your shoulder blades.  Lift legs up towards the ceiling, creating a straight line from shoulders to feet.  Keep neck long and chin towards chest.\\n    *   **Safety:** This pose should only be performed by experienced practitioners under the guidance of a qualified instructor. Avoid if you have neck problems, high blood pressure, glaucoma, or are menstruating.  Use blankets to support the shoulders and protect the neck.\\n\\n*   **Headstand (Sirsasana):**\\n     * **Instructions:** Kneel on the floor. Interlock your fingers, creating a stable base for your head. Place the crown of your head on the floor inside the cup formed by your hands. Tuck your chin slightly. Straighten your legs, lift your hips, and walk your feet towards your head. Engage your core and slowly lift your legs off the floor, one at a time or together.  Keep your body in a straight line from your head to your feet.\\n     * **Safety:** This is an advanced pose and should only be attempted with proper instruction and supervision.  Avoid if you have neck problems, high blood pressure, glaucoma, are pregnant, or have heart problems. Use a wall for support if needed. Build strength and balance gradually.\\n\\nAlways listen to your body and stop if you feel any pain or discomfort.\",\n      \"code_example\": null\n    },\n    {\n      \"title\": \"Contraindications for Inversions\",\n      \"description\": \"Certain conditions make inversions unsafe. Common contraindications include:\\n\\n*   **High Blood Pressure (uncontrolled):** The increase in blood flow to the head can be dangerous.\\n*   **Glaucoma:** Increased pressure in the head can worsen glaucoma.\\n*   **Neck Injuries or Problems:** Inversions can put excessive strain on the neck.\\n*   **Pregnancy (especially later stages):**  Balance shifts, and abdominal pressure increases.\\n*   **Heart Conditions:**  Inversions can strain the cardiovascular system.\\n*   **Vertigo:** Inversions can exacerbate dizziness.\\n*   **Severe Osteoporosis:** Risk of fracture is increased.\\n*   **Retinal Detachment:** Inversions can increase pressure in the eyes.\",\n      \"code_example\": null\n    },\n     {\n      \"title\": \"Relaxation Techniques in Yoga\",\n      \"description\": \"Relaxation is an integral part of yoga, promoting physical and mental well-being.  It helps to counterbalance the active poses and allows the body to integrate the benefits of the practice.  Relaxation techniques aim to reduce stress, lower blood pressure, and calm the nervous system.  Deep relaxation involves consciously releasing tension in the body and quieting the mind.\",\n      \"code_example\": null\n    },\n    {\n      \"title\": \"Types of Relaxation Techniques\",\n      \"description\": \"Common relaxation techniques in yoga include:\\n\\n*   **Savasana (Corpse Pose):** The most common and essential relaxation pose. It involves lying on your back with arms at your sides, palms facing up, and allowing the body to completely relax.\\n*   **Yoga Nidra (Yogic Sleep):** A guided meditation technique that induces a state of deep relaxation while remaining consciously aware.\\n*   **Pranayama (Breathing Exercises):**  Specific breathing techniques, such as Ujjayi breath or alternate nostril breathing, can calm the nervous system and promote relaxation.\\n*   **Progressive Muscle Relaxation:**  Involves systematically tensing and releasing different muscle groups to release physical tension.\\n*   **Meditation:**  Focusing the mind on a single point, such as the breath, to quiet thoughts and achieve a state of inner peace.\",\n      \"code_example\": null\n    },\n    {\n      \"title\": \"Savasana (Corpse Pose): Detailed Instructions\",\n      \"description\": \"*   **Instructions:**\\n    1.  Lie flat on your back on a yoga mat or blanket.\\n    2.  Separate your legs slightly, allowing your feet to fall open naturally.\\n    3.  Place your arms at your sides, slightly away from your body, with palms facing up.\\n    4.  Close your eyes gently.\\n    5.  Take a few deep breaths, and then allow your breath to return to its natural rhythm.\\n    6.  Scan your body for any areas of tension and consciously release them.\\n    7.  Let go of any thoughts that arise, and simply observe your breath and the sensations in your body.\\n    8.  Remain in Savasana for 5-15 minutes.\\n    9.  To come out, gently deepen your breath, wiggle your fingers and toes, and slowly roll onto your right side. Pause there for a few breaths before slowly sitting up.\\n\\n*   **Benefits:**  Reduces stress, lowers blood pressure, calms the nervous system, improves sleep quality, and promotes overall well-being.\\n\\n*   **Modifications:**  If you have lower back pain, place a bolster or rolled-up blanket under your knees. If you are uncomfortable lying on your back, you can lie on your side in a fetal position.\",\n      \"code_example\": null\n    },\n    {\n      \"title\": \"Benefits of Relaxation Techniques\",\n      \"description\": \"The benefits of regular relaxation practice are numerous and well-documented:\\n\\n*   **Stress Reduction:** Reduces the production of stress hormones like cortisol.\\n*   **Lowered Blood Pressure:** Helps to regulate blood pressure and heart rate.\\n*   **Improved Sleep Quality:** Promotes deeper and more restful sleep.\\n*   **Reduced Muscle Tension:** Releases tension in the muscles, alleviating pain and stiffness.\\n*   **Enhanced Mental Clarity:** Improves focus and concentration.\\n*   **Emotional Regulation:** Promotes emotional balance and stability.\\n*   **Increased Self-Awareness:** Fosters a deeper connection with your body and mind.\",\n      \"code_example\": null\n    }\n  ]\n}\n```"},
          ],
        },
      ],
    });